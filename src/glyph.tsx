import React from 'react'
import { createUseStyles } from 'react-jss'
import { Piece } from './piece'

const useStyles = createUseStyles({
  whitePiece: {
    fill: 'white',
    stroke: 'darkGray',
    strokeWidth: 2,
    transition: '1s'
  },
  blackPiece: {
    fill: 'black',
    stroke: 'lightGray',
    strokeWidth: 2,
    transition: '1s'
  }
})

interface IProps {
  piece: Piece
}

export function Glyph(props: IProps) {
  const classes = useStyles()
  const x = props.piece.pos.column * 80 + 40
  const y = props.piece.pos.row * 80 + 40
  const pathMan = `
    M ${x},${y}
    m -36,0 a 36,36 0 1,0 72,0 a 36,36 0 1,0 -72,0
    m 8,0 a 28,28 0 1,0 56,0 a 28,28 0 1,0 -56,0
    m 8,0 a 20,20 0 1,0 40,0 a 20,20 0 1,0 -40,0
  `
  const pathKing = `
    M ${x},${y}
    m -36,0 a 36,36 0 1,0 72,0 a 36,36 0 1,0 -72,0
    m 6,0 a 30,30 0 1,0 60,0 30,30 0 1,0 -60,0
    m 13,8 v 0 6 a 2,2 0 0 0 2,2 v 0 h 30 a 2,2 0 0 0 2,-2 v 0 -6 z
    m 14.5,-8 a 2.5,2.5 0 1 0 5,0 2.5,2.5 0 1 0 -5,0
    m 19.7,5.5 c 0.50411,-5.00378 2.97912,-9.013789 3.56287,-10.291344 0.87961,0.156289 1.81319,-0.204167 2.46521,-0.864507 0.65203,-0.660341 0.96653,-2.330588 -0.0375,-3.466416 -0.89479,-1.01228 -2.4976,-1.202634 -3.44992,-0.541838 -0.86337,0.599072 -1.50539,1.908683 -1.20054,2.970965 l -4.49089,2.748723 c -0.67244,-1.54291 -0.76614,-6.472433 -0.85511,-8.291303 0.70269,-0.43147 1.17181,-1.19259 1.17181,-2.06029 0,-1.34295 -1.12092,-2.43576 -2.4987,-2.43576 -1.37792,0 -2.49883,1.09281 -2.49883,2.43576 0,0.60534 0.22911,1.15861 0.60521,1.58505 -1.23675,3.006202 -3.49675,5.918434 -4.98376,6.951871 -1.77885,-2.204913 -2.80934,-8.258205 -2.91882,-11.047311 0.56687,-0.44683 0.93084,-1.12952 0.93084,-1.89391 0,-1.34321 -1.12077,-2.43603 -2.4987,-2.43603 -1.37792,0 -2.49869,1.09282 -2.49869,2.43603 0,0.76439 0.36383,1.44721 0.93112,1.89391 -0.77675,3.5124 -1.14939,8.775733 -2.98441,11.09189 -1.48631,-0.920842 -3.45771,-4.54234 -4.9186,-6.99645 0.37624,-0.42644 0.60521,-0.97971 0.60521,-1.58505 0,-1.34295 -1.12077,-2.43576 -2.49869,-2.43576 -1.37778,0 -2.4987,1.09281 -2.4987,2.43576 0,0.86824 0.46954,1.62937 1.17266,2.06084 -0.0877,1.81873 -0.063,5.725472 -0.57981,7.780317 l -4.628,-2.349521 c 0.31762,-0.688093 -0.009,-1.939969 -0.64754,-2.533255 -1.24397,-1.155357 -3.27471,-0.817002 -4.08378,0.233864 -0.80908,1.050866 -0.92748,2.782869 0.0874,3.687148 0.78762,0.701769 1.79876,0.858479 2.30115,0.686476 2.22844,2.483272 2.71554,7.903881 2.98441,10.218791 z
  `

  return (
    <path
      d={props.piece.isKing ? pathKing : pathMan}
      className={props.piece.isWhite ? classes.whitePiece : classes.blackPiece}
    ></path>
  )
}
